[Английский/English](README.md)

## Описание

Рутокен Демобанк — мобильное приложение с реализованными модулями подписания документов и обнаружения 
[устройств семейства Рутокен ЭЦП](https://www.rutoken.ru/products/all/rutoken-ecp/).

## Требования

Рутокен DemoBank может быть собран с использованием:

* Android Studio 3.6 и старше;
* Android SDK Platform 30 и старше.

Внешние зависимости находятся в [Рутокен SDK](https://www.rutoken.ru/developers/sdk/).

Необходимые библиотеки:

* librtpkcs11ecp.so под следующие архитектуры: armeabi-v7a, arm64-v8a;
* rtpcsc-\*.aar, где \* — версия библиотеки.

## Как собрать

Прежде чем собирать проект:

* положите библиотеку librtpkcs11ecp.so в папку `<project_root>/app/src/main/jniLibs/<arch>/`, где `<arch>` — архитектура библиотеки;
* положите rtpcsc-\*.aar в папку `<project_root>/app/libs/`.

Для сборки из консоли:

    cd <project_root>
    ./gradlew build

Для сборки с помощью Android Studio:

* запустите Android Studio;
* выберите `"File">"Open...": <project_root>`;
* выберите `"Build">"Make project"`.

## Предварительные действия

Чтобы создать на устройстве семейства Рутокен ЭЦП ключевую пару и сертификат, выполните следующие действия:

* На компьютере загрузите [Рутокен Плагин](https://www.rutoken.ru/products/all/rutoken-plugin/) и установите его;
* Перезагрузите браузер для завершения установки плагина;
* Через браузер зайдите на веб-сайт [Центр регистрации Рутокен](https://ra.rutoken.ru);
* Подключите устройство семейства Рутокен ЭЦП к компьютеру через USB-порт или считыватель смарт-карт;
    * Для Рутокен ЭЦП Bluetooth убедитесь, что светодиод горит или моргает ТОЛЬКО красным цветом, 
    если нет — нажмите кнопку на устройстве и удерживайте ее, пока синий светодиод не погаснет;
* Убедитесь, что веб-сайт обнаружил устройство;
* Создайте ключевую пару и сертификат, следуя инструкциям на веб-сайте;
* Убедитесь, что веб-сайт обнаружил ключевую пару и сертфикат на устройстве;
* Отключите устройство Рутокен от компьютера и используйте его вместе с Android-устройством.

## Ограничения

* Приложение Рутокен Демобанк может быть запущено только на физических устройствах, не в эмуляторе.

## Лицензия

Программный код проекта распространяется по [модифицированной лицензии BSD](LICENSE_RUS), если противное не указано в файле с исходным кодом,
содержимое папки app/src/main/java/ru/rutoken/demobank содержит объекты авторского права и распространяется по коммерческой лицензии АО "Актив-Софт",
[текст лицензии](https://download.rutoken.ru/License_Agreement.pdf).
